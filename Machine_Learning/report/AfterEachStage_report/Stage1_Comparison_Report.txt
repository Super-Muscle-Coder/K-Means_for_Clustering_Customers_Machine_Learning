B·∫Øt ƒë·∫ßu ph√¢n t√≠ch so s√°nh dataset tr∆∞·ªõc v√† sau khi l√†m s·∫°ch.
[1mB√ÅO C√ÅO SO S√ÅNH DATASET TR∆Ø·ªöC V√Ä SAU KHI L√ÄM S·∫†CH (STAGE 1)[0m
ƒê·ªçc dataset g·ªëc t·ª´: C:\Project\Machine_Learning\Machine_Learning\Dataset\Customer_Behavior.csv
ƒê·ªçc dataset ƒë√£ l√†m s·∫°ch t·ª´: C:\Project\Machine_Learning\Machine_Learning\Dataset\Customer_Behavior_cleaned.csv

T·∫£i d·ªØ li·ªáu th√†nh c√¥ng:
- Dataset g·ªëc: 2,240 d√≤ng √ó 29 c·ªôt
- Dataset ƒë√£ l√†m s·∫°ch: 2,010 d√≤ng √ó 27 c·ªôt
- D√≤ng ƒë√£ lo·∫°i b·ªè: 230 (10.27%)
- C·ªôt ƒë√£ lo·∫°i b·ªè: 2
[1m
1. SO S√ÅNH TH√îNG TIN C∆† B·∫¢N[0m

C·∫•u tr√∫c c·ªôt:
- S·ªë c·ªôt chung gi·ªØa hai dataset: 19
- C·ªôt ch·ªâ c√≥ trong dataset g·ªëc: 10 ['Complain', 'AcceptedCmp4', 'Z_CostContact', 'AcceptedCmp3', 'Response', 'AcceptedCmp1', 'AcceptedCmp2', 'Z_Revenue', 'AcceptedCmp5', 'ID']
- C·ªôt m·ªõi trong dataset ƒë√£ l√†m s·∫°ch: 8 ['Marital_Married', 'Marital_Other', 'Marital_Single', 'Marital_Widow', 'Marital_Divorced', 'Marital_Status_Grouped', 'Education_ord', 'Marital_Together']

So s√°nh ki·ªÉu d·ªØ li·ªáu:
Ki·ªÉu d·ªØ li·ªáu         | G·ªëc      | ƒê√£ l√†m s·∫°ch  | Thay ƒë·ªïi
-------------------------------------------------------
datetime64[ns]       | 0        | 1            | +1      
object               | 3        | 3            | 0       
int64                | 25       | 22           | -3      
float64              | 1        | 1            | 0       

Thay ƒë·ªïi ki·ªÉu d·ªØ li·ªáu c·ª• th·ªÉ:
- Dt_Customer: object ‚Üí datetime64[ns]

B·ªô nh·ªõ s·ª≠ d·ª•ng:
- Original: 0.81 MB
- Cleaned : 0.69 MB
- Thay ƒë·ªïi: -0.12 MB (-14.74%)

  ƒê√£ t·∫°o bi·ªÉu ƒë·ªì so s√°nh c∆° b·∫£n (2).
[1m
2. SO S√ÅNH CH·∫§T L∆Ø·ª¢NG D·ªÆ LI·ªÜU[0m

Missing values:
- Original: 24 gi√° tr·ªã (0.0369%)
- Cleaned : 0 gi√° tr·ªã (0.0000%)
- ƒê√£ x·ª≠ l√Ω: 24 gi√° tr·ªã missing

Ph√¢n t√≠ch Duplicates:

Ki·ªÉm tra V·ªöI ID (full-row duplicates):
- Original: 0 d√≤ng
- Cleaned : 0 d√≤ng

Ki·ªÉm tra KH√îNG C√ì ID (feature duplicates):
- Original: 182 d√≤ng
- L√Ω do   : Khi b·ªè ID, ph√°t hi·ªán th√™m 182 duplicates ·∫©n

QUAN TR·ªåNG: Dataset g·ªëc c√≥ 182 d√≤ng tr√πng l·∫∑p
  ‚Üí Ch·ªâ ph√°t hi·ªán ƒë∆∞·ª£c khi lo·∫°i b·ªè c·ªôt ID
  ‚Üí C√°c d√≤ng n√†y c√≥ features gi·ªëng nhau nh∆∞ng ID kh√°c nhau

Th√¥ng tin d√≤ng b·ªã lo·∫°i b·ªè (t·ª´ b√°o c√°o l√†m s·∫°ch):
- 182 d√≤ng do tr√πng l·∫∑p feature (ph√°t hi·ªán khi b·ªè ID)
- 21 d√≤ng do tr√πng l·∫∑p full-row (sau khi ƒë√£ lo·∫°i ID)
- 3 d√≤ng do l√† outliers (Income: 1, Year_Birth: 2)
- 24 d√≤ng ƒë∆∞·ª£c t√°ch do c√≥ missing values

Missing values theo c·ªôt (Original):
  - Income: 24 (1.07%)

  ƒê√£ t·∫°o bi·ªÉu ƒë·ªì Missing Values
  ƒê√£ t·∫°o bi·ªÉu ƒë·ªì Duplicates 
[1m
2.5. PH√ÇN T√çCH PH√ÇN PH·ªêI C√ÅC BI·∫æN C√ì OUTLIERS[0m

Ph√°t hi·ªán 11 bi·∫øn c√≥ outliers:
  - Income (THU NH·∫¨P): 1 outliers
  - Year_Birth (NƒÇM SINH): 2 outliers
  - MntMeatProducts (CHI TI√äU TH·ªäT): 29 outliers
  - MntFruits (CHI TI√äU TR√ÅI C√ÇY): 96 outliers
  - MntSweetProducts (CHI TI√äU ƒê·ªí NG·ªåT): 105 outliers
  - MntGoldProds (CHI TI√äU V√ÄNG B·∫†C): 49 outliers
  - MntFishProducts (CHI TI√äU H·∫¢I S·∫¢N): 72 outliers
  - NumWebPurchases (MUA H√ÄNG ONLINE): 4 outliers
  - NumCatalogPurchases (MUA QUA CATALOG): 4 outliers
  - NumDealsPurchases (MUA KHUY·∫æN M√ÉI): 24 outliers
  - NumWebVisitsMonth (TRUY C·∫¨P WEB/TH√ÅNG): 3 outliers

T·∫°o bi·ªÉu ƒë·ªì so s√°nh ph√¢n ph·ªëi
DEBUG: Creating chart for Income with idx=1
DEBUG: Creating chart for Year_Birth with idx=2
DEBUG: Creating chart for MntMeatProducts with idx=3
DEBUG: Creating chart for MntFruits with idx=4
DEBUG: Creating chart for MntSweetProducts with idx=5
DEBUG: Creating chart for MntGoldProds with idx=6
DEBUG: Creating chart for MntFishProducts with idx=7
DEBUG: Creating chart for NumWebPurchases with idx=8
DEBUG: Creating chart for NumCatalogPurchases with idx=9
DEBUG: Creating chart for NumDealsPurchases with idx=10
DEBUG: Creating chart for NumWebVisitsMonth with idx=11

  ƒê√£ t·∫°o 11 bi·ªÉu ƒë·ªì ph√¢n ph·ªëi outliers
[1m
3. CHU·∫®N H√ìA BI·∫æN PH√ÇN LO·∫†I[0m

Chu·∫©n h√≥a Marital_Status:
- S·ªë danh m·ª•c tr∆∞·ªõc: 8
- S·ªë danh m·ª•c sau: 6
- Danh m·ª•c ƒë√£ ƒë∆∞·ª£c map: Alone, YOLO, Absurd

So s√°nh ph√¢n ph·ªëi Marital_Status:
Gi√° tr·ªã              | Original     | Cleaned      | Thay ƒë·ªïi    
------------------------------------------------------------
Absurd               |     2 ( 0.09%) |     0 ( 0.00%) | -2 (-0.09%)
Alone                |     3 ( 0.13%) |     0 ( 0.00%) | -3 (-0.13%)
Divorced             |   232 (10.36%) |   213 (10.60%) | -19 (+0.24%)
Married              |   864 (38.57%) |   781 (38.86%) | -83 (+0.28%)
Other                |     0 ( 0.00%) |     2 ( 0.10%) | +2 (+0.10%)
Single               |   480 (21.43%) |   437 (21.74%) | -43 (+0.31%)
Together             |   580 (25.89%) |   508 (25.27%) | -72 (-0.62%)
Widow                |    77 ( 3.44%) |    69 ( 3.43%) | -8 (-0.00%)
YOLO                 |     2 ( 0.09%) |     0 ( 0.00%) | -2 (-0.09%)

  ƒê√£ t·∫°o bi·ªÉu ƒë·ªì chu·∫©n h√≥a Marital_Status.
[1m
4. PH√ÇN T√çCH C√ÅC BI·∫æN ƒê·ªîI ENCODING[0m

4.1. ORDINAL ENCODING - Education (C√≥ th·ª© b·∫≠c)

Mapping Education ‚Üí Education_ord (th·∫•p ‚Üí cao):
Gi√° tr·ªã         | Ordinal  | S·ªë l∆∞·ª£ng   | %       
--------------------------------------------------
Basic           | 0        | 49         | 2.4%
2n Cycle        | 1        | 182        | 9.1%
Graduation      | 2        | 1012       | 50.3%
Master          | 3        | 332        | 16.5%
PhD             | 4        | 435        | 21.6%

Ph∆∞∆°ng ph√°p: Ordinal Encoding
- L√Ω do: Education c√≥ th·ª© b·∫≠c r√µ r√†ng (Basic < Master < PhD)
- K·∫øt qu·∫£: 1 c·ªôt m·ªõi (Education_ord)
  ƒê√£ t·∫°o bi·ªÉu ƒë·ªì ordinal encoding cho Education.

4.2. ONE-HOT ENCODING - Marital_Status (Kh√¥ng th·ª© b·∫≠c)

K·∫øt qu·∫£: 7 c·ªôt dummy
Danh s√°ch: Marital_Status, Marital_Divorced, Marital_Married, Marital_Other, Marital_Single, Marital_Together, Marital_Widow

Ph√¢n ph·ªëi c√°c c·ªôt dummy:
C·ªôt                       | Count    | %         
--------------------------------------------------
Marital_Divorced          | 213      | 10.60%
Marital_Married           | 781      | 38.86%
Marital_Other             | 2        | 0.10%
Marital_Single            | 437      | 21.74%
Marital_Together          | 508      | 25.27%
Marital_Widow             | 69       | 3.43%

Ph∆∞∆°ng ph√°p: One-Hot Encoding
- L√Ω do: Marital_Status KH√îNG c√≥ th·ª© b·∫≠c
- K·∫øt qu·∫£: 6 c·ªôt dummy (binary 0/1)
  ƒê√£ t·∫°o bi·ªÉu ƒë·ªì One-Hot Encoding

4.3. CHUY·ªÇN ƒê·ªîI KI·ªÇU D·ªÆ LI·ªÜU - Dt_Customer
- T·ª´: string (object)
- ƒê·∫øn: datetime64[ns]

Ph√¢n ph·ªëi theo nƒÉm:
  - 2012: 439 (21.84%)
  - 2013: 1064 (52.94%)
  - 2014: 507 (25.22%)
  L·ªói khi t·∫°o bi·ªÉu ƒë·ªì ph√¢n ph·ªëi datetime: 'start' is not a valid value for align; supported values are 'center', 'right', 'left'
[1m
5. SO S√ÅNH PH√ÇN PH·ªêI BI·∫æN QUAN TR·ªåNG[0m

Income:
Th·ªëng k√™   | Original        | Cleaned         | Thay ƒë·ªïi       
------------------------------------------------------------
min        | 1730.00         | 1730.00         | +0.00 (+0.00%)
max        | 666666.00       | 162397.00       | -504269.00 (-75.64%)
mean       | 52247.25        | 52048.00        | -199.25 (-0.38%)
std        | 25173.08        | 21618.86        | -3554.22 (-14.12%)
50%        | 51381.50        | 51533.00        | +151.50 (+0.29%)

Outliers (Income):
- Gi√° tr·ªã cao (>=100k): 13 ‚Üí 12 (+1)
- Gi√° tr·ªã c·ª±c cao (>=500k): 1 ‚Üí 0 (+1)

Year_Birth:
Th·ªëng k√™   | Original        | Cleaned         | Thay ƒë·ªïi       
------------------------------------------------------------
min        | 1893.00         | 1900.00         | +7.00 (+0.37%)
max        | 1996.00         | 1996.00         | +0.00 (+0.00%)
mean       | 1968.81         | 1968.84         | +0.03 (+0.00%)
std        | 11.98           | 11.77           | -0.22 (-1.81%)
50%        | 1970.00         | 1970.00         | +0.00 (+0.00%)

Outliers (Year_Birth):
- NƒÉm sinh c≈© (< 1900): 2 ‚Üí 0 (+2)

MntWines:
Th·ªëng k√™   | Original        | Cleaned         | Thay ƒë·ªïi       
------------------------------------------------------------
min        | 0.00            | 0.00            | +0.00 (+inf%)
max        | 1493.00         | 1493.00         | +0.00 (+0.00%)
mean       | 303.94          | 304.81          | +0.87 (+0.29%)
std        | 336.60          | 336.69          | +0.10 (+0.03%)
50%        | 173.50          | 176.00          | +2.50 (+1.44%)

MntMeatProducts:
Th·ªëng k√™   | Original        | Cleaned         | Thay ƒë·ªïi       
------------------------------------------------------------
min        | 0.00            | 0.00            | +0.00 (+inf%)
max        | 1725.00         | 1725.00         | +0.00 (+0.00%)
mean       | 166.95          | 167.90          | +0.95 (+0.57%)
std        | 225.72          | 226.42          | +0.70 (+0.31%)
50%        | 67.00           | 68.00           | +1.00 (+1.49%)
[1m
6. T√ìM T·∫ÆT C√ÅC THAY ƒê·ªîI[0m

Th·ªëng k√™ t·ªïng quan:
- Dataset g·ªëc: 2,240 d√≤ng √ó 29 c·ªôt
- Dataset ƒë√£ l√†m s·∫°ch: 2,010 d√≤ng √ó 27 c·ªôt
- ƒê√£ lo·∫°i b·ªè: 230 d√≤ng (10.27%)

C√°c thay ƒë·ªïi ch√≠nh ƒë√£ th·ª±c hi·ªán:
1. T√°ch 24 d√≤ng c√≥ missing values th√†nh mini dataset
2. Lo·∫°i b·ªè 182 d√≤ng tr√πng l·∫∑p feature
3. Lo·∫°i b·ªè 3 d√≤ng outliers (Income: 1, Year_Birth: 2)
4. Chu·∫©n h√≥a Marital_Status (thay ƒë·ªïi 7 gi√° tr·ªã)
5. Chuy·ªÉn ƒë·ªïi Dt_Customer t·ª´ object sang datetime64[ns]
6. Ordinal encoding Education th√†nh Education_ord
7. One-hot encoding Marital_Status th√†nh 6 c·ªôt dummy
8. Lo·∫°i b·ªè 21 d√≤ng tr√πng l·∫∑p ho√†n to√†n (sau khi lo·∫°i ID)
9. Lo·∫°i b·ªè 10 c·ªôt kh√¥ng ph·ª•c v·ª• nh√¢n kh·∫©u h·ªçc

C·∫£i thi·ªán ch·∫•t l∆∞·ª£ng d·ªØ li·ªáu:
- Missing values: 24 ‚Üí 0 (+24)
- Duplicated rows: 0 ‚Üí 0 (+0)

  ƒê√£ t·∫°o bi·ªÉu ƒë·ªì t·ªïng h·ª£p c·∫£i thi·ªán.
[1m
====================================================================================================[0m
[1mHO√ÄN TH√ÄNH PH√ÇN T√çCH SO S√ÅNH[0m
Th·ªùi gian th·ª±c hi·ªán: 14.62 gi√¢y
B√°o c√°o ƒë∆∞·ª£c l∆∞u t·∫°i: C:\Project\Machine_Learning\Machine_Learning\report\AfterEachStage_report\Stage1_Comparison_Report.txt
Bi·ªÉu ƒë·ªì ƒë∆∞·ª£c l∆∞u t·∫°i: C:\Project\Machine_Learning\Machine_Learning\graph\AfterEachStage_graph\after_1S_graph

Ph√¢n t√≠ch ho√†n t·∫•t th√†nh c√¥ng
B√°o c√°o chi ti·∫øt: C:\Project\Machine_Learning\Machine_Learning\report\AfterEachStage_report\Stage1_Comparison_Report.txt
Bi·ªÉu ƒë·ªì ƒë√£ ƒë∆∞·ª£c l∆∞u t·∫°i: C:\Project\Machine_Learning\Machine_Learning\graph\AfterEachStage_graph\after_1S_graph
The program 'python.exe' has exited with code 4294967295 (0xffffffff).
